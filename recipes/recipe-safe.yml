---
# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json
name: vic-os-safe
description: Fedora COSMIC Atomic base + UBlue akmods (main stream) + COSMIC/Wayland Flatpaks — stock Fedora kernel
base-image: quay.io/fedora-ostree-desktops/cosmic-atomic:fedora-42
image-version: latest

modules:
  # Keep Fedora's stock kernel; only add akmods drivers (wider compatibility)
  - type: akmods
    base: main
    install:
      - evdi
      - xone
      - v4l2loopback
      - openrazer
      - dualsense
    # Optional NVIDIA support (uncomment ONE):
    # nvidia-driver: nvidia-open
    # nvidia-driver: nvidia

  - type: rpm-ostree
    install:
      - gamemode
      - goverlay
      - mangohud
      - power-profiles-daemon

  - type: default-flatpaks
    system:
      install:
        - org.mozilla.Firefox
        - com.github.tchx84.Flatseal
        - md.obsidian.Obsidian
        - com.discordapp.Discord
        - org.gnome.Console
        - org.gnome.Calculator
        - org.gnome.FileRoller
        - org.gnome.TextEditor
        - org.videolan.VLC
        - com.github.wwmm.easyeffects
        - org.libreoffice.LibreOffice
        - org.gimp.GIMP

  - type: os-release
    name: vic-os
    pretty-name: "vic‑os (COSMIC Atomic + UBlue akmods)"
    variant: "vic-os-safe"
    variant-id: vic-os-safe

  - type: signing
